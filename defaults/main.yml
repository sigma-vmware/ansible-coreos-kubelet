# Copyright 2015 VMware, Inc.  All rights reserved.
# SPDX-License-Identifier: MIT OR GPL-3.0-only
---
# defaults file for ansible-coreos-kubelet
coreos_kubelet_systemd: /etc/systemd/system
coreos_kubelet_install_dir: /opt/bin

kubelet_image_tag: "v1.14.3"
kubelet_image_url: "docker://gcr.io/google_containers/hyperkube"

kubernetes_service_addresses: "172.21.0.0/16"
kubernetes_enable_cni: False
# DECC-3830: clusterDNS IP is 172.21.0.100 for normal coreDNS, 172.21.0.101
# for BCP coreDNS.  The decc_vmware_isolate labels below are for disaster
# recovery nodes in the DR bubble.
dns_server: "{{kubernetes_service_addresses|ipaddr('net')|ipaddr(101)|ipaddr('address') if (('decc_vmware_isolate' in hostvars[inventory_hostname]) and (hostvars[inventory_hostname]['decc_vmware_isolate'] in ('decc3385-367c7de7ce3c4112bb6bede85cdb9d29', 'decc3385-4053c0aecab94aa0ac2a2b0ef9a83947', 'decc3399-ed33a990230b44b7bdae3d70c7e467f2'))) else kubernetes_service_addresses|ipaddr('net')|ipaddr(100)|ipaddr('address')}}"

kubelet_extra_rkt_run_args: ""

## KUBELET options set via kubelet config file
kubelet_config_file_name: "kubelet-config.yaml"
kubelet_config_file_src: "{{kubelet_config_file_name}}"
kubelet_config_dir: "/var/lib/kubelet"
kubelet_volume_plugin_dir: "/etc/kubernetes/volumeplugins"
kubelet_enable_cifs_mount: False

## KUBELET options set via commandline. These override the options in kubelet config file
default_kubelet_options: {}
custom_kubelet_options: {}
kubelet_options: "{{ default_kubelet_options | combine(custom_kubelet_options) }}"
kube_cloud_provider: "vsphere"
kube_enable_cloud_provider: False
